<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Web Madrassa</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito:wght@200;400;500;600;700&display=swap">
    <script src="/scripts/admin.js" defer></script>
</head>
<body>
    <div id="main-frame">
        <div id="entete">
            <img id="m-icon" src="/svg/madrassa-icon.svg" alt="icône madrassa">
            <h1>Web Madrassa</h1>
            <h1 style="color: red">Admin</h1>
            <div id="avertissement-div">
                <img id="screen-size" src="/svg/screen-size.svg" alt="icône erreur">
                <div id="avertissement-entete" class="tooltip">
                    Taille de la page
                    <div class="bottom">
                        <p>La taille de la fenêtre est petite. Certains éléments ne pourront pas s'afficher correctement.</p>
                        <i></i>
                    </div>
                </div>
            </div>
            <div id="co-status">
                <img src="/svg/sync.svg" id="refreshServerLoad" alt="chargement serveur">
                <div id="co-status-on">
                    <img id="co-on-img" src="/svg/co-on.svg" alt="icône connexion ok">
                    <div id="co-on" class="tooltip">
                        Serveur connecté
                        <div class="bottom">
                            <p>La connexion au serveur est établie. La liaison est vérifiée toutes les 3 secondes.</p>
                            <i></i>
                        </div>
                    </div>
                </div>
                <div id="co-status-off">
                    <img id="co-off-img" src="/svg/co-off.svg" alt="icône erreur connexion">
                    <div id="co-off" class="tooltip">
                        Serveur déconnecté
                        <div class="bottom">
                            <p>Impossible d'établir la connexion. Vérifiez vos paramètres ; si le problème persiste, contacter l'administation.</p>
                            <i></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="container">
            <div id="menu-lateral">
                <button id="b-inscriptions" class="button" role="button">➞ Inscriptions</button>
                <button id="b-eleves" class="button" role="button">➞ Élèves</button>
                <button id="b-classes" class="button" role="button">➞ Classes</button>
                <button id="b-users" class="button" role="button">➞ Utilisateurs</button>
                <button id="b-params" class="button" role="button">➞ Paramètres</button>
                <button id="b-dvp" class="button" role="button">➞ Développement</button>
                <div id="lateral-down">
                    <button id="b-logout" class="button" role="button">➞ Déconnexion</button>
                </div>
            </div>

            <div id="board">

                <div id="inscriptions" class="page-frame">
                    <div class="page-title">
                        <h3>Inscriptions</h3>
                    </div>
                    <div class="horizontal-layout">
                        <div id="ajouter-eleves" class="fct-frame">
                            <h4>Ajouter un élève</h4>

                            <div class="hl-fit-v">

                                <div class="vertical-layout-right">
                                    <h5>Prénom*</h5>
                                    <input id="i-prenom" type="text" placeholder="Texte">
                                    <label class="inputlabel" for="i-prenom"></label>

                                    <h5>Nom*</h5>
                                    <input id="i-nom" type="text" placeholder="Texte">
                                    <label class="inputlabel" for="i-nom"></label>

                                    <h5>Âge*</h5>
                                    <input id="i-age" type="text" placeholder="Nombre">
                                    <label class="inputlabel" for="i-age"></label>

                                    <h5>Classe*</h5>
                                    <input id="i-classe" type="text" placeholder="Texte">
                                    <label class="inputlabel" for="i-classe"></label>
                                    <h5>*champs obligatoires</h5>
                                </div>

                                <div class="vertical-layout-right">
                                    <h5>Numéro de téléphone</h5>
                                    <input id="i-tel" type="text" placeholder="Nombre">
                                    <label class="inputlabel" for="i-tel"></label>

                                    <h5>Mail</h5>
                                    <input id="i-email" type="text" placeholder="Texte">
                                    <label class="inputlabel" for="i-email"></label>
                                </div>
                            </div>

                            <div class="vl-center">
                                <button id="add-eleve" class="mini-button" role="button">Ajouter l'élève</button>
                                <div id="div-result-msg"></div>
                            </div>

                        </div>

                        <div id="export" class="fct-frame">
                            <h4>Exportation</h4>
                            <div class="hl-fit">
                                <h5>Format d'exportation : </h5>
                                <select id="exportFormat" name="exportf">
                                    <option value="">Choisir un format</option>
                                    <option value="csv">Format CSV</option>
                                    <option value="json">Format JSON</option>
                                </select>
                                <label class="inputlabel" for="exportFormat"></label>
                                <button id="download" class="mini-button" role="button">Télécharger</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="eleves" class="page-frame">
                    <div class="page-title">
                        <h3>Élèves</h3>
                    </div>
                    <div class="horizontal-layout">
                            <div id="eleves-list" class="fct-frame">
                                <h4>Liste des élèves</h4>
                                <div class="hl-fit">
                                    <div id="listinfos" class="horizontal-layout">
                                        <h5>Statut actuel : </h5>
                                        <img id="sync-icon" src="/svg/sync.svg" alt="[sync]">
                                        <img id="sync-ok" src="/svg/sync-ok.svg" alt="[sync ok]">
                                        <button id="refresh-elist" class="mini-button">Actualiser</button>
                                    </div>
                                </div>
                                <div id="elist" class="vertical-scroll"></div>
                            </div>
                            <div id="eleves-apercu" class="fct-frame">
                                <h4>Aperçu</h4>
                                <p class="aucun-apercu" id="aucun-apercu1">Sélectionner un élève</p>
                                <div id="div-apercu">
                                    <div class="horizontal-layout">
                                        <div id="elevesInfos" class="vertical-layout">
                                            <h5 id="a-prenom" class="a-text">Prénom : </h5>
                                            <h5 id="a-nom" class="a-text">Nom : </h5>
                                            <h5 id="a-age" class="a-text">Âge : </h5>
                                            <h5 id="a-classe" class="a-text">Classe : </h5>
                                            <h5 id="a-mail" class="a-text">Mail : </h5>
                                            <h5 id="a-tel" class="a-text">Téléphone : </h5>
                                            <h5 id="a-id" class="a-text">ID : </h5>
                                        </div>
                                        <div id="eleve-photo">
                                            Aucune photo
                                        </div>
                                    </div>
                                    <hr class="ligne">
                                    <div class="hl-fit">
                                        <h5>Modifier une valeur : </h5>
                                        <select id="editValueName" name="exportf">
                                            <option value="">Choisir une valeur</option>
                                            <option value="prenom">Prénom</option>
                                            <option value="nom">Nom</option>
                                            <option value="age">Âge</option>
                                            <option value="classe">Classe</option>
                                            <option value="mail">Mail</option>
                                            <option value="tel">Téléphone</option>
                                        </select>
                                        <label class="inputlabel" for="editValueName"></label>
                                        <input type="text" id="editValue">
                                        <label class="inputlabel" for="editValue"></label>
                                        <button class="mini-button" id="editValueButton">Modifier</button>
                                    </div>
                                    <div class="hl-fit">
                                        <button class="mini-button" id="deleteEleveButton">Supprimer l'élève</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                </div>


                <div id="classes" class="page-frame">
                    <h3>Classes</h3>
                    <div class="horizontal-layout">

                        <div id="menu-classes" class="fct-frame">
                            <h4>Gestion des classes</h4>
                            <div class="hl-fit">
                                <h5>Ajouter une nouvelle classe : </h5>
                                <input id="classeName" type="text" class="textbox" placeholder="Nom de la classe">
                                <label for="classeName" class="inputlabel"></label>
                                <button id="createClasse" class="mini-button">Créer la classe</button>
                            </div>
                            <div id="clist" class="vertical-scroll"></div>
                        </div>

                        <div id="apercu-classe" class="fct-frame">
                            <h4>Informations sur la classe</h4>
                            <div class="hl-fit-v">
                                <h5 id="classeinfos-tx" style="border: #3c4043 1px solid">
                                    Nom de la classe : <span id="classe-nom"></span><br>
                                    Professeur : <span id="classe-prof"></span><br>
                                    Nombre d'élèves : <span id="classe-nbeleves"></span><br>
                                    ID classe : <span id="classe-id"></span><br>
                                    Liste des élèves :
                                </h5>
                                <div class="vertical-layout">
                                    <div class="horizontal-layout-right">
                                        <input id="profName" type="text" class="textbox" placeholder="Nom du professeur">
                                        <label for="profName" class="inputlabel"></label>
                                        <button id="editProfName" class="mini-button">Modifier</button>
                                    </div>
                                    <div class="horizontal-layout-right">
                                        <h5>Supprimer :</h5>
                                        <button id="deleteClasse" class="mini-button">Classe seulement</button>
                                        <button id="deleteClasseNom" class="mini-button">Classe + nom</button>
                                        <button id="deleteClasseEleves" class="mini-button">Classe + élèves</button>
                                    </div>
                                    <div class="horizontal-layout-right">
                                        <h5>Transférer les élèves :</h5>
                                        <input id="transferClasseName" type="text" class="textbox" placeholder="Classe de destination">
                                        <label for="transferClasseName" class="inputlabel"></label>
                                        <button id="transferClasseButton" class="mini-button">Transférer</button>
                                    </div>
                                </div>

                            </div>

                            <div id="celist" class="vertical-scroll" style="border: #3c4043 1px solid; margin: 4px 4px 4px 0" ></div>

                        </div>

                    </div>

                </div>


                <div id="users" class="page-frame">
                    <h3>Utilisateurs</h3>
                    <div class="horizontal-layout">

                        <div class="vertical-layout multiframe">
                            <div id="menu-users" class="fct-frame">
                                <h4>Gestion des utilisateurs</h4>

                                <div class="hl-fit-v">
                                    <h5>Inviter un utilisateur</h5>
                                    <label for="i-user"></label><input id="i-user" type="text" placeholder="Nom d'utilisateur">
                                    <input id="i-mail" type="text" placeholder="Adresse mail">
                                    <label class="inputlabel" for="i-mail"></label>
                                    <select id="acctype">
                                        <option value="">Type d'utilisateur</option>
                                        <option value="eleve">Élève</option>
                                        <option value="parent">Parent</option>
                                        <option value="admin">Admin</option>
                                        <option value="enseignant">Enseignant</option>
                                    </select>
                                    <label class="inputlabel" for="acctype"></label>
                                    <button id="sendinvite" class="mini-button" role="button">Envoyer</button>
                                </div>
                                <textarea id="i-customMail" placeholder='Texte personnalisé (laisser vide pour le texte par défaut). Utiliser "[lien]" pour insérer le lien à cet endroit.' cols="40" rows="20"></textarea>
                                <label class="inputlabel" for="i-customMail"></label>
                            </div>

                            <div id="userinfos" class="fct-frame">
                                <h4>Informations utilisateur</h4>

                                    <p class="aucun-apercu" id="aucun-apercu2">Sélectionner un utilisateur</p>
                                    <h5 id="userinfos-tx">
                                        ID : <span id="infos-id"></span><br>
                                        Nom d'utilisateur : <span id="infos-uname"></span><br>
                                        Type : <span id="infos-type"></span><br>
                                        Statut : <span id="infos-statut"></span><br>
                                        ID d'invitation : <span id="infos-idinvite"></span>
                                    </h5>
                            </div>

                        </div>


                        <div id="list-users" class="fct-frame">
                            <h4>Liste des utilisateurs</h4>

                            <div id="ulist" class="vertical-scroll"></div>
                        </div>
                    </div>
                </div>

                <div id="params" class="page-frame">
                    <h3>Paramètres</h3>
                    <div class="horizontal-layout">
                        <div id="param-generaux" class="fct-frame">
                            <h4>Paramètres généraux</h4>

                            <div class="hl-fit">
                                <input type="checkbox" id="listDetailsSwitch">
                                <label class="inputlabel" for="listDetailsSwitch"></label>
                                <div id="listdetails-div" class="tooltip checkbox">
                                    Détails de liste étendus
                                    <div class="bottom">
                                        <p>Affiche des informations supplémentaires dans la liste d'élèves pour avoir un aperçu général.</p>
                                        <i></i>
                                    </div>
                                </div>
                            </div>

                            <div class="hl-fit">
                                <input type="checkbox" id="storeSettings">
                                <label class="inputlabel" for="storeSettings"></label>
                                <div id="storesettings-div" class="tooltip checkbox">
                                    Sauvegarde des paramètres
                                    <div class="bottom">
                                        <p>Enregistre les paramètres sur le serveur pour les récupérer à
                                            chaque session. Vous devez activer le paramètre après avoir sélectionné
                                            vos paramètres.</p>
                                        <i></i>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div id="param-avances" class="fct-frame">
                            <h4>Paramètres avancés</h4>

                            <div class="hl-fit">
                                <input type="checkbox" id="dvpMenu">
                                <label class="inputlabel" for="dvpMenu"></label>
                                <div id="dvpmenu-div" class="tooltip checkbox">
                                    Menu de développement
                                    <div class="bottom">
                                        <p>Affiche le menu de développement dans le panneau latéral.</p>
                                        <i></i>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div id="dvp" class="page-frame">
                    <h3>Menu de développement</h3>
                    <div class="horizontal-layout">
                        <div class="vertical-layout multiframe">
                            <div id="dbfunctions" class="fct-frame">
                                <h4>Base de données</h4>
                                <div class="hl-fit">
                                    <h5>Chemin d'accès : </h5>
                                    <input id="fileDir" class="" type="text">
                                    <label class="inputlabel" for="fileDir"></label>
                                    <button id="checkDir" class="mini-button">Vérifier</button>
                                </div>
                                <div class="hl-fit">
                                    <h5>Chemins habituels : </h5>
                                    <select id="pathList" name="chemins">
                                        <option value="">Choisir un chemin</option>
                                        <option value="public">public</option>
                                        <option value="public/data/eleves.json">public/data/eleves.json</option>
                                        <option value="public/data/settings.json">public/data/settings.json</option>
                                        <option value="public/scripts/admin.js">public/scripts/admin.js</option>
                                        <option value="index.js">index.js</option>
                                    </select>
                                    <label class="inputlabel" for="pathList"></label>
                                    <button id="insertPath" class="mini-button">Insérer</button>
                                </div>
                                <div class="hl-fit">
                                    <button id="showFile" class="mini-button">Afficher le fichier</button>
                                </div>
                            </div>
                            <div id="other" class="fct-frame">
                                <h4>Non défini</h4>
                            </div>
                        </div>
                        <div id="apercu-data" class="fct-frame">
                            <h4>Aperçu des données</h4>
                            <div id="dataLines" class="vertical-scroll horizontal-scroll">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div id="elevePopup">
            <div class="fct-frame" id="fctEditEleve">
                <div class="horizontal-layout">
                    <h4>Paramètres élève</h4>
                    <div class="hl-fit-v horizontal-layout-right">
                        <img id="closePopup" src="/svg/close.svg" alt="Fermer" onclick="document.getElementById('elevePopup').style.display = 'none'"></div>
                </div>
                <h5>Élève : <span id="popupName"></span></h5>
                <h5 class="error">Paramètres indisponibles</h5>
                <!-- <div class="popupFct vertical-layout" id="popupButtons">
                    <button id="moveEleve" class="button margin">Déplacer vers une autre classe</button>
                    <button class="button margin">Supprimer l'élève</button>
                </div>
                <div class="popupFct vertical-layout" id="popupMoveEleve">
                    <input id="popupClasseName" class="" type="text" placeholder="Nom de la classe">
                    <label class="inputlabel" for="popupClasseName"></label>
                    <button id="moveEleveConfirm" class="button margin">Déplacer</button>
                </div> !-->
            </div>
        </div>

    </div>
    <div id="use-error">
        <img id="mobile-error" src="/svg/mobile-error.svg" alt="icône erreur mobile">
        <p>Impossible d'utiliser Web Madrassa sur mobile.</p>
    </div>


    <script src="/socket.io/socket.io.js"></script>
</body>
</html>